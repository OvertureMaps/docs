---
title: Places
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import QueryBuilder from '@site/src/components/queryBuilder';
import PlacesQuery from '!!raw-loader!@site/src/queries/duckdb/places.sql';
import RomeQuery from '!!raw-loader!@site/src/queries/duckdb/rome_places.sql';
import LithuaniaQuery from '!!raw-loader!@site/src/queries/duckdb/lithuania_places.sql';
import MillQuery from '!!raw-loader!@site/src/queries/duckdb/places_mills.sql';
import ConfidenceQuery from '!!raw-loader!@site/src/queries/duckdb/places_confidence.sql';
import ConflateOSMQuery from '!!raw-loader!@site/src/queries/duckdb/places_conflating_OSM.sql';
import PlacesInBuildingsQuery from '!!raw-loader!@site/src/queries/duckdb/places_in_buildings.sql';

:::note

本指南專注於 Overture places **資料** &mdash; 其內容、範圍、屬性和使用案例。若要解更多關於 Overture places **架構** 的相關資料，請參見 [架構參考文檔](/schema/reference/places/place)。

:::

## 概要

Overture places 主題有一個特徵類型，稱為 `place`，包含超過 5300 萬個真實世界實體的點表示：學校、商業、醫院、宗教組織、地標、山峰等。該主題源於 Meta 和 Microsoft 資料的合併，並在 [CDLA Permissive 2.0](https://cdla.dev/permissive-2-0/) 授權下提供。

| ![Overture places 主題覆蓋範圍](/img/places/places-coverage.png) | 
|:--:| 
| *Overture places 資料，按資料來源樣式：Meta 用紫色，Microsoft 用橙色。* | 

| 主要來源 |  特徵數量（2024 年 7 月版本） |
| -------------------------- | --------------------- |
| Meta | 約 4800 萬 |
| Microsoft | 約 550 萬 |



## 資料集描述

所有 Overture 資料，包括地點資料，都以 GeoParquet 格式分發，這是一種基於 column-based 的資料結構。以下是地點特徵類型的屬性表。特別是 `categories` 屬性；我們提供了可用類別的完整列表 [在這裡](https://github.com/OvertureMaps/schema/blob/main/task-force-docs/places/overture_categories.csv)。

<details>
    <summary>地點主題中 GeoParquet 檔案的架構</summary>
<div>
<Tabs>
<TabItem value="places" label="places" default>
| 欄位 | 類型 | 描述 |
|---|---|---|
| id | VARCHAR | 特徵 ID。如果該特徵代表的是 GERS（全球實體參考系統）的一部分，則此 ID 可能與 GERS 關聯。 |
| geometry | BLOB | 地點位置的點表示。地點的幾何形狀必須是 GeoJSON schema 定義的點。 |
| bbox | STRUCT | 由兩個經度和兩個緯度定義的區域：緯度為 -90.0 到 90.0 之間的十進制數；經度為 -180.0 到 180.0 之間的十進制數。 |
| version | INTEGER | 特徵的版本號，在每次 Overture 版本更新中，當該特徵的幾何形狀或屬性發生變化時，版本號會遞增。 |
| sources | STRUCT | 給定特徵屬性的源訊息數組，每個條目都是一個源對象，列出了 JSON 指針符號表示的屬性和該特定值來源的資料集。所有特徵必須有一個根級別的源，這是默認源，如果未指定特定屬性的源，則使用此默認源。 |
| names | STRUCT | 定義特徵名稱的屬性。 |
| categories | STRUCT | 地點的類別。完整列表可在 GitHub 上找到：https://github.com/OvertureMaps/schema/blob/main/task-force-docs/places/overture_categories.csv |
| confidence | DOUBLE | 地點存在的信心程度。數值範圍是 0 到 1 之間。0 表示我們確定該地點不存在（或不再存在）。1 表示我們確定該地點存在。如果沒有任何值，代表我們還沒有任何可信的訊息。 |
| websites | VARCHAR[] | 地點的網站。 |
| socials | VARCHAR[] | 地點的社交媒體 URL。 |
| emails | VARCHAR[] | 地點的電子郵件地址。 |
| phones | VARCHAR[] | 地點的電話號碼。 |
| brand | STRUCT | 地點的品牌。擁有多個品牌的位置被建模為多個獨立的地點，每個地點都有自己的品牌。 |
| addresses | STRUCT | 地點的地址。 |

</Tabs>
</div>
</details>


## 資料的存取和檢索

最新的地點資料可以從 AWS 或 Azure 獲取，格式為 GeoParquet，位於以下位置：
| 提供商 | 位置 |
| ------ | -------- |
| Amazon S3 | <QueryBuilder query="s3://overturemaps-us-west-2/release/__OVERTURE_RELEASE/theme=places/type=place/" language="text"></QueryBuilder> |
| Azure Blob Storage | <QueryBuilder query="https://overturemapswestus2.blob.core.windows.net/release/__OVERTURE_RELEASE/theme=places/type=place/" language="text"></QueryBuilder> |

更多訊息可以在本文檔的 [獲取 Overture 資料](https://docs.overturemaps.org/getting-data/) 部分找到。您可以直接從上述 S3 或 Azure 位置下載整個資料集。警告：輸出將是一個非常大的檔案。

根據您的使用情況，以下方法可能更實用：

<Tabs>
<TabItem value="Python Command-line Tool" label="Python Command-line Tool" default>
首先，請遵循 [Python Command-line Tool 的設定指南](/getting-data/overturemaps-py/)。

```
overturemaps download -f geoparquet --type=place -o places.geoparquet
``` 
</TabItem>
<TabItem value="DuckDB" label="DuckDB" default>
首先，請遵循 [DuckDB 的設定指南](/getting-data/duckdb/)。

<QueryBuilder query={PlacesQuery}></QueryBuilder>
</TabItem>
</Tabs>

## 資料使用指南

我們建議僅下載您需要的 Overture 資料。如果您對特定的地理區域感興趣，有幾種選擇可以使用簡單的 bounding box 來提取地點資料並輸出 GeoJSON 檔案。

<Tabs>
<TabItem value="Overture Maps Explorer" label="Overture Maps Explorer" default>
要快速查看和下載適量的資料，您可以使用 [Overture Maps Explorer 網站](https://explore.overturemaps.org/#15.07/41.89731/12.47626)。

要下載資料：移動到您感興趣的區域，關閉其他圖層，然後點擊 `Download Visible`。

這樣將下載您螢幕上可見的區域。
</TabItem>
<TabItem value="Python Command-line Tool" label="Python Command-line Tool" default>
First, follow the [setup guide for the Python Command-line Tool](/getting-data/overturemaps-py/).

Simply alter the `bbox` value to download a particular area.
```
overturemaps download --bbox=12.46,41.89,12.48,41.91 -f geojson --type=place -o rome.geojson
``` 
</TabItem>
<TabItem value="DuckDB" label="DuckDB" default>
First, follow the [setup guide for DuckDB](/getting-data/duckdb/).

Replace the `bbox.xmin` and `bbox.ymin` values with a new bounding box to run the query for a different area.
<QueryBuilder query={RomeQuery}></QueryBuilder>
</TabItem>
</Tabs>

## Data manipulation and analysis

### Querying by properties

These examples use data properties in the address, category, and confidence scores columns to filter the data in useful ways using DuckDB.
<Tabs>
<TabItem value="Query by address" label="Query by address" default>
The `address` column can be used to quickly filter data down to a particular political unit. This example uses the country key to get all the data with addresses in Lithuania. Region can be likewise used to extract data from smaller units such as US states.
<QueryBuilder query={LithuaniaQuery}></QueryBuilder>
</TabItem>
<TabItem value="Query by category" label="Query by category" default>
For filtering data by a particular type of place we can use the `categories` column. In this example we'll extract all the places with categories of `rice_mill` or `flour_mill`

The full category list is available [here](https://github.com/OvertureMaps/schema/blob/main/task-force-docs/places/overture_categories.csv).
<QueryBuilder query={MillQuery}></QueryBuilder>
</TabItem>
<TabItem value="Query by confidence score" label="Query by confidence score" default>
Suppose you only want data that definitely exists and is accurate. We can use the `confidence` score to filter out data below a certain threshold to remove any suspect data.
<QueryBuilder query={ConfidenceQuery}></QueryBuilder>
</TabItem>
</Tabs>

### Advanced examples

These examples present some use cases that combine places data with other datasets.

<Tabs>
<TabItem value="Conflate with OpenStreetMap" label="Conflate with OpenStreetMap" default>
Overture Places can be a valuable source for conflating with or enhancing your own existing dataset. 

In this example, suppose we want to use OpenStreetMap POIs for a project but would like to fill in any missing attributes such as addresses or phone numbers with Overture Place data.

Using some basic matching logic, we can join these two datasets together to create a more robust final product. By also joining the GERS ID to our output dataset we could easily keep our now conflated dataset synced with future Overture releases with a simple join.

To run this example yourself, an Oregon PBF can be obtained from [Geofabrik](https://download.geofabrik.de/north-america/us/oregon.html).

Note: Joining data with a CDLA Permissive 2.0 license to OSM is permitted but the resulting data may need to carry the Open Database License (ODbL) if it is a derivative database.  Please see the [OSM Collective Database Guideline](https://osmfoundation.org/wiki/Licence/Community_Guidelines/Collective_Database_Guideline_Guideline) for information on this topic.
<details>
    <summary>Query</summary>
<div>
<QueryBuilder query={ConflateOSMQuery}></QueryBuilder>
</div>
</details>
</TabItem>
<TabItem value="Find building addresses" label="Find building addresses" default>
Suppose you are interested in having address data attached to buildings. The [Overture addresses](/schema/reference/addresses/address/) theme might be a good place to check, but let's assume it does not cover the area you are interested in.

The places theme has wide coverage and many of the place point features have addresses associated with them. Using an intersect we can find places that fall inside buildings and then join the place's address to the building polygon.
<details>
    <summary>Query</summary>
<div>
<QueryBuilder query={PlacesInBuildingsQuery}></QueryBuilder>
</div>
</details>
</TabItem>
</Tabs>

## Tools and libraries

### Rapid
Rapid, an OpenStreetMap editor, is capable of displaying places data as a reference layer by following the guide [here](/examples/rapid-id/).

The license is compatible with OSM and this data can be used for mapping.

