---
title: 分區
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import QueryBuilder from '@site/src/components/queryBuilder';
import ToParquet from '!!raw-loader!@site/src/queries/duckdb/divisions_to_parquet.sql';
import CountsPerType from '!!raw-loader!@site/src/queries/duckdb/divisions_counts_per_type.sql';
import DivCounts from '!!raw-loader!@site/src/queries/duckdb/divisions_division_counts.sql';
import DivAreaCounts from '!!raw-loader!@site/src/queries/duckdb/divisions_division_area_counts.sql';
import BoundaryCounts from '!!raw-loader!@site/src/queries/duckdb/divisions_boundary_counts.sql';
import SpecificFeature from '!!raw-loader!@site/src/queries/duckdb/divisions_query_specific_feature.sql';
import OSMLookUp from '!!raw-loader!@site/src/queries/duckdb/divisions_lookup_osm.sql';
import BorderUSMX from '!!raw-loader!@site/src/queries/duckdb/divisions_border_usmx.sql';
import CountsPerEntity from '!!raw-loader!@site/src/queries/duckdb/divisions_border_usmx.sql';
import SubTypeCountsUSMXCA from '!!raw-loader!@site/src/queries/duckdb/divisions_border_usmx.sql';
import DenmarkLocalityNeighborhood from '!!raw-loader!@site/src/queries/duckdb/divisions_denmark_locality_neighborhood.sql';
import PhillyPlaces from '!!raw-loader!@site/src/queries/duckdb/divisions_philly_places.sql';

## 概要

Overture Divisions 主題包含三種類型的特徵：`division`、`division_area` 和 `division_boundary`。

此主題涵蓋超過 530 萬個點、線和多邊形的表現形式，這些表現形式包括國家、地區、州、市甚至鄰里。該主題來自 [OpenStreetMap](https://www.openstreetmap.org/) 資料和 [geoBoundaries](https://www.geoboundaries.org/) 資料的融合，並根據 [ODbL](https://opendatacommons.org/licenses/odbl/) 授權協定提供。（更多訊息請參見 [致謝頁面](https://docs.overturemaps.org/attribution/)。）

Divisions資料可以用於許多目的，包括但不限於：
- 反向地理編碼
- 地圖樣式設定和渲染
- 地點標籤
- 色階渲染
- 包含檢查（例如點在多邊形分析）
- 根據使用情境選擇幾何形狀

| ![Overture divisions coverage - country and region boundaries](/img/divisions/divisions-admin0-admin1-coverage.png) | 
|:--:| 
| *Overture Divisions資料，按子類型設定樣式：國家用紫色標識，地區邊界用綠色線條表示。* | 

## 資料集描述

### 特徵類型描述 

`division` 是一種類型的特徵，代表官方或非官方的人員組織：國家、地區、省、市、鄰里等——從給定的政治視角來看。它具有 `Point` 幾何形狀，提供了與該特徵最常關聯的位置的大致位置。我們鼓勵您參閱 [`division` 特徵類型的 schema 參考文檔](/schema/reference/divisions/division)。

<details>
	<summary>每個子類型的 division 特徵類型數量</summary>

```
┌──────────────┬──────────────┐
│ count_star() │   subtype    │
│    int64     │   varchar    │
├──────────────┼──────────────┤
│      3215202 │ locality     │
│       771100 │ neighborhood │
│       196451 │ microhood    │
│        36974 │ county       │
│        18469 │ localadmin   │
│         3866 │ region       │
│          272 │ country      │
└──────────────┴──────────────┘
```
`division_area` 是一種類型的特徵，用於捕捉屬於 `division` 特徵的土地面積或土地和領海（海洋）的形狀。它具有 `Polygon` 或 `MultiPolygon` 幾何形狀。我們建議您參閱 [`division_area` 特徵類型的 schema 參考文檔](/schema/reference/divisions/division_area)。

<details>
	<summary>每個子類型的 division_area 特徵類型數量</summary>

```
┌──────────────┬──────────────┐
│ count_star() │   subtype    │
│    int64     │   varchar    │
├──────────────┼──────────────┤
│       540557 │ locality     │
│       385886 │ neighborhood │
│        36973 │ county       │
│        18470 │ localadmin   │
│         3866 │ region       │
│          272 │ country      │
└──────────────┴──────────────┘
```
</details>

`division_boundary` 是一種類型的特徵，表示兩個 `division` 特徵之間的共享邊界。它具有 `LineString` 幾何形狀。`division_boundary` 的幾何形狀要麼完全是非海洋的，要麼完全是海洋的。海洋邊界是非海洋邊界進入水域的延伸。請參閱 [`division_boundary` 特徵類型的 schema 參考文檔](/schema/reference/divisions/division_boundary)。

<details>
	<summary>每個子類型的 division_boundary 特徵類型數量</summary>

```
┌──────────────┬─────────┐
│ count_star() │ subtype │
│    int64     │ varchar │
├──────────────┼─────────┤
│        64107 │ county  │
│         7116 │ region  │
│          373 │ country │
└──────────────┴─────────┘
```
</details>

:::warning

`division_boundary`特徵類型在 2024 年 7 月的版本中引入。它取代了 `boundary` 特徵類型。

:::

### Subtype descriptions 

子類型可以表示每個特徵的行政級別，從 `country` 到 `microhood`。子類型還可以代表國家內的地點層級，並為 Divisions 提供標準化的地點定義。以下是 Divisions 主題中所有子類型的列表及其描述：

<details>
	<summary>divisions 主題中的所有子類型</summary>

| 子類型          | 描述                                                                                   | 範例                       |
| --------------- | -------------------------------------------------------------------------------------- | -------------------------- |
| **country**     | 最大的獨立主權單位。                                                                   | United States              |
| **dependency**  | 不完全是國家的子區域，但在國防、護照管控、社會津貼等方面依賴母國的地點。                 | 波多黎各自由邦 Puerto Rico                |
| **macroregion** | 多個地區的集合。這些主要存在於歐洲。                                                   | Scotland; Île-de-France    |
| **region**      | 州、省、地區。大多數國家中最大的子國家行政單位，除非它們有dependencies/macroregions。            | Alaska; Alberta            |
| **macrocounty** | 多個縣的集合。這些主要也存在於歐洲。                                               | Inverness                  |
| **county**      | 縣，大多數國家中最大的地方行政單位，除非它們有更大的縣級。                                 | Kings County, NY           |
| **localadmin**  | 在世界某些地區提供的一級政府，包含沒有自身權力的地區或人口稠密地區。通常但不僅限於歐洲。| Paris                      |
| **locality**    | 可能有或可能沒有自身行政權力的人口聚居地。(如果屬於地方管理區，則沒有。)               | Taipei                     |
| **borough**     | 地方性政府單位，低於 locality 類型。                                                         | Brooklyn, Queens, etc.     |
| **macrohood**   | 包含更小的鄰里類型分區的區域。                                                     | BoCoCa (Boerum Hill, Cobble Hill, and Carroll Gardens) |
| **neighborhood**| 一個社區。大多數社區都屬於此類型，除非有足夠細微的劃分以區分 macrohood 和/或 microhood。     | Cobble Hill                |
| **microhood**   | 包含在社區類型分區內的小型社區。                                                       | Gätjensort in Hamburg      |
</details>

### 資料欄位

截至2024年7月版本，Divisions GeoParquet 檔案中共有25個欄位。每個欄位都是資料中的一個屬性。

<details>
	<summary>Divisions GeoParquet 檔案中的所有欄位清單</summary>

| Property Name | Type | Description |
| -------- | -------- | ------- |
| **id** |string | A feature ID. This may be an ID associated with the Global Entity Reference System (GERS) if—and-only-if the feature represents an entity that is part of GERS.
| **geometry** | blob | A WKB representation of the entity's geometry - a Point, Polygon, MultiPolygon, or LineString.
| **bbox** | array | The bounding box of an entity's geometry, represented with float values, in a `xmin, xmax, ymin, ymax` format.
| **version** | integer | Version number of the feature, incremented in each Overture release where the geometry or attributes of this feature changed.
| **update_time** | string | Timestamp when the feature was last updated.
| **sources** | array | The array of source information for the properties of a given feature, with each entry being a source object which lists the property in JSON Pointer notation and the dataset that specific value came from. All features must have a root level source which is the default source if a specific property's source is not specified.
| **subtype** | string | Category of the division from a finite, hierarchical, ordered list of categories (e.g. country, region, locality, etc.) similar to a Who's on First placetype.
| **wikidata** | string | A wikidata ID if available, as found on https://www.wikidata.org/.
| **population** | integer | Population of the division.
| **names** | array | A primary name of the entity, and a set of optional name translations. Name translations are represented in key, value pairs, where the key is an ISO language code and the value is the translated name.
| **class** | string | A value to represent whether an entity represents a `maritime` or `land` feature.
| **division_ids** | list | A list of the two division IDs that share this division boundary.
| **is_disputed** | boolean | Indicator if there are entities disputing this division boundary. Information about entities disputing this boundary should be included in perspectives property. This property should also be true if boundary between two entities is unclear and this is "best guess". So having it true and no perspectives gives map creators reason not to fully trust the boundary, but use it if they have no other.
| **perspectives** | array | Political perspectives from which this division boundary is considered to be an accurate representation. If this property is absent, then this boundary is not known to be disputed from any political perspective. Consequently, there is only one boundary feature representing the entire real world entity. If this property is present, it means the boundary represents one of several alternative perspectives on the same real-world entity.
| **local_type** | string | Local name for the subtype property, optionally localized. This property is localized using a standard Overture names structure.
| **country** | string | ISO 3166-1 alpha-2 country code of the country or country-like entity, that this division represents or belongs to. If the entity this division represents has a country code, the country property contains it. If it does not, the country property contains the country code of the first division encountered by traversing the parent_division_id chain to the root.
| **region** | string | ISO 3166-2 principal subdivision code of the subdivision-like entity this division represents or belongs to. If the entity this division represents has a principal subdivision code, the region property contains it. If it does not, the region property contains the principal subdivision code of the first division encountered by traversing the parent_division_id chain to the root.
| **hierarchies** | Array | Hierarchies in which this division participates.
| **parent_division_id** | string | Division ID of this division's parent division. Not allowed for top-level divisions (countries) and required for all other divisions. The default parent division is the parent division as seen from the default political perspective, if there is one, and is otherwise chosen somewhat arbitrarily. The hierarchies property can be used to inspect the exhaustive list of parent divisions.
| **norms** | list | Collects information about local norms and rules within the division that are generally useful for mapping and map-related use cases. If the norms property or a desired sub-property of the norms property is missing on a division, but at least one of its ancestor divisions has the norms property and the desired sub-property, then the value from the nearest ancestor division may be assumed.
| **capital_division_ids** | array | Division IDs of this division's capital divisions. If present, this property will refer to the division IDs of the capital cities, county seats, etc. of a division.
| **division_id** | string | Division ID of the division this area belongs to.
| **filename** | string | Name of the S3 file being queried.
| **theme** | string | Name of the Overture theme being queried.
| **type** |  string | Name of the Overture feature type being queried.
</details>

## Data access and retrieval 

Overture's six data themes, including divisions, are freely available on both Amazon S3 and Microsoft Azure Blob Storage at these locations:

| Provider | Location |
| -------- | -------- |
| Amazon S3 | `s3://overturemaps-us-west-2/release/` |
| Azure Blob Storage | `https://overturemapswestus2.blob.core.windows.net/release/` |

Overture distributes its datasets as [GeoParquet](https://geoparquet.org/), a column-oriented spatial data format that is a backwards-compatible extension of [Apache Parquet](https://parquet.apache.org/). Parquet (and GeoParquet) is optimized for "cloud-native" queries, which means you can use many developer-friendly tools to efficiently fetch column "chunks" of cloud-hosted data. We encourage users who are new to GeoParquet to consult [this guide](https://guide.cloudnativegeo.org/geoparquet/).

[The Getting Data section of this documentation](https://docs.overturemaps.org/getting-data/) offers instructions for using several tools to access Overture data, including DuckDB and Overture's Python command-line tool. See examples below for divisions.

<Tabs>

<TabItem value="Python Command-line Tool" label="Python Command-line Tool" default>
You can find Overture's official Python command-line tool [here](https://github.com/OvertureMaps/overturemaps-py).

This tool helps to download Overture data within a region of interest and converts it to a few different file formats. In this example, a bounding box is passed to obtain all divisions data around Boston, MA:

```
overturemaps download --bbox=-71.068,42.353,-71.058,42.363 -f geojson --type=divisions -o boston.geojson
```

Right now there is only one option to the overturemaps utility: download. It will download Overture Maps data with an optional bounding box into the specified file format. When specifying a bounding box, only the minimum data is transferred. The result is streamed out and can handle arbitrarily large bounding boxes.

Command-line options:

- **--bbox** (optional): west, south, east, north longitude and latitude coordinates. When omitted the entire dataset for the specified type will be downloaded
- **-f** (required: one of "geojson", "geojsonseq", "geoparquet"): output format
- **--output/-o** (optional): Location of output file. When omitted output will be written to stdout.
- **--type/-t** (required): The Overture map data type to be downloaded. Examples of types are building for building footprints, place for POI places data, etc. Run overturemaps download --help for the complete list of allowed types

This downloads data directly from Overture's S3 bucket without interacting with any other servers. By including bounding box extents on each row in the Overture distribution, the underlying Parquet readers use the Parquet summary statistics to download the minimum amount of data necessary to extract data from the desired region.
</TabItem>

<TabItem value="DuckDB" label="DuckDB" default>
First, follow the [setup guide for DuckDB](/getting-data/duckdb/).
<QueryBuilder query={ToParquet}></QueryBuilder>
Note: Running this query will result in a ~6.4GB file.
</TabItem>

</Tabs>

## Data usage guidelines 

We recommend querying and downloading only the Overture data you need.
If you have a particular geographic area of interest, there are several options for using a simple bounding box to extract divisions data.

<Tabs>

<TabItem value="Overture Maps Explorer" label="Overture Maps Explorer" default>
To quickly view and download modest amounts of data, you can use the [Overture Maps Explorer website](https://explore.overturemaps.org/#15.07/41.89731/12.47626).

To download data: Pan to the area you are interested in, turn off the other layers, then click `Download Visible`.

This will download the area visible on your screen.

| ![Exploring divsions data in NYC](/img/divisions/divisions-us.gif) | 
|:--:| 
| *Exploring divisions data in NYC using [Overture's Explore tool](https://explore.overturemaps.org/#10.35/40.802/-73.9407).* |
</TabItem>

<TabItem value="Python Command-line Tool" label="Python Command-line Tool" default>
First, follow the [setup guide for the Python Command-line Tool](/getting-data/overturemaps-py/).

You can alter the `bbox` value to download a particular area.

```
overturemaps download --bbox=-71.068,42.353,-71.058,42.363 -f geojson --type=divisions -o boston.geojson
``` 
</TabItem>

<TabItem value="DuckDB" label="DuckDB" default>
First, follow the [setup guide for DuckDB](/getting-data/duckdb/).

DuckDB allows you to pass a bounding box in your query to select features in a specified geogrpahic area.

This example returns results for the country boundary between the US and Mexico:
<QueryBuilder query={BorderUSMX}></QueryBuilder>
</TabItem>

</Tabs>

## Data manipulation and analysis

Using these queries, you can get counts for each feature type in divisions.

<Tabs>

<TabItem value="total counts" label="total counts" default>
<QueryBuilder query={CountsPerType}></QueryBuilder>
</TabItem>

<TabItem value="division counts" label="division counts" default>
<QueryBuilder query={DivCounts}></QueryBuilder>
</TabItem>

<TabItem value="division_area counts" label="division_area counts" default>
<QueryBuilder query={DivAreaCounts}></QueryBuilder>
</TabItem>

<TabItem value="division_boundary counts" label="division_boundary counts" default>
<QueryBuilder query={BoundaryCounts}></QueryBuilder>
</TabItem>

</Tabs>

<Tabs>

<TabItem value="query using an Overture ID" label="query using an Overture ID" default>
<QueryBuilder query={SpecificFeature}></QueryBuilder>
</TabItem>

<TabItem value="query using an OSM ID" label="query using an OSM ID" default>
<QueryBuilder query={OSMLookUp}></QueryBuilder>
</TabItem>

</Tabs>

#### Exporting locality and neighborhood divisions to a local shapefile

This query will return a subset of fields and the geometry for each locality and neighborhood division entity in Denmark.

<details>
	<summary>Query</summary>
<QueryBuilder query={DenmarkLocalityNeighborhood}></QueryBuilder>
</details>

#### Exporting places data within Philadelphia to a local Parquet file

This query will return Places theme data for any place within the locality of Philadelphia

<details>
	<summary>Query</summary>
<QueryBuilder query={PhillyPlaces}></QueryBuilder>
</details>

## Revision history 
### Version info 

You can find the most recent release notes [here](https://docs.overturemaps.org/release/latest/).

## Support

### Feedback 

You can find a list of Overture repositories [here](https://github.com/orgs/OvertureMaps/repositories).

Discussions are generally reserved for broader conversations around the divisions project as a whole (supporting a new workflow, adding a dataset, null attributes).

Issues are generally reserved for more specific concerns with specific entities in the dataset (geometry validation, missing entities, duplicate entities) or country-specific concerns.

### Discussions 

You can start and add to discussions in each of the public Overture repositories. Some examples:

- **General Overture Discussions**: https://github.com/orgs/OvertureMaps/discussions
- **Data Discussions**: https://github.com/OvertureMaps/data/discussions
- **Schema Discussions**: https://github.com/OvertureMaps/schema/discussions

Discussions around Overture's divisions data should be filed in the Data repository.

### Issues 

You can start and add to issues in each of the public Overture repositories, too. Some examples:

- **Data Issues**: https://github.com/OvertureMaps/data/issues
- **Schema Issues**: https://github.com/OvertureMaps/schema/issues
- **Tiles issues**: https://github.com/OvertureMaps/overture-tiles/issues

Issues around Overture's divisions data should be filed in the data repository.