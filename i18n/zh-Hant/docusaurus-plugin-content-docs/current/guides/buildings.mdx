---
title: 建築物
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import QueryBuilder from '@site/src/components/queryBuilder';
import ThemedImage from '@theme/ThemedImage';
import useBaseUrl from '@docusaurus/useBaseUrl';

import BuildingsMap from '@site/src/components/buildings-map';

## 概要

Overture Maps 的建築主題描述了擁有屋頂或內部空間的人工建築，這些建築在某個地方是永久性或半永久性存在的（來源： [OSM 建築定義](https://wiki.openstreetmap.org/wiki/Key:building)）。該主題包括兩種特徵類型：

- **`building`**: 最基本的建築特徵形式。幾何形狀預期為建築物的最外層足跡—如果從衛星/航空影像追蹤，則為屋頂印跡。建築物有一個布林屬性 `has_parts`，描述是否存在任何相關的建築部分。
- **`building_part`**: 建築物的一個部分。建築部分可能與建築物具有相同的屬性。建築部分通過 `building_id` 與父建築物相關聯。





## 資料來源

<figure>
  <BuildingsMap></BuildingsMap>
  <!-- <ThemedImage
    alt="Overture buildings in San Diego"
    sources={{
      light: useBaseUrl('/img/guides/buildings/san_diego_buildings_3.jpg'),
      dark: useBaseUrl('/img/guides/buildings/san_diego_buildings_3.jpg'),
    }}
  /> -->
  <figcaption>
  <div style={{'textAlign':'center'}}>
    <span style={{'backgroundColor':'rgb(36,39,47)', padding:2}}>
    <span style={{color:'rgb(194,42,87)'}}>&#x25AC;   <span style={{color:'white'}}>OpenStreetMap | </span></span>
    <span style={{color:'rgb(4,151,188)'}}>&#x25AC;   <span style={{color:'white'}}>Esri Community Maps | </span></span>
    <span style={{color:'rgb(243,175,102)'}}>&#x25AC; <span style={{color:'white'}}>Microsoft ML Buildings | </span></span>
    <span style={{color:'rgb(236,253,188)'}}>&#x25AC; <span style={{color:'white'}}>Google Open Buildings </span></span>
    </span>
  </div>
  </figcaption>
</figure>

上述是美國聖地牙哥的視覺化圖像，其中多個資料集被融合在一起。注意，Esri 和 OSM 的建築物顯示為大區塊，而 Google 和 Microsoft 的建築物則混合在一起。這是我們融合過程的結果，該過程首先優先考慮社群貢獻的資料，然後使用最好的機器學習資料“填充”其餘部分的地圖。

目前，Overture 建築資料集是以下開放建築資料集的組合：

| 來源                                    | 類型                                    | 融合 <br /> 優先級 | 數量           |
| --------------------------------------- | -------------------------------------- | ---------------- | -------------- |
| [OpenStreetMap](//osm.org)              | 社群貢獻                               | 1                | 約 6 億        |
| [Esri Community Maps](https://communitymaps.arcgis.com/home) | 社群貢獻                               | 2                | 約 1400 萬     |
| [Google Open Buildings](https://sites.research.google/open-buildings/) | 機器學習衍生屋頂印跡<br />（&gt;90% 精確度） | 3                | 約 4 億        |
| [Microsoft](https://github.com/microsoft/GlobalMLBuildingFootprints) | 機器學習衍生屋頂印跡                     | 4                | 約 6 億        |
| [Google Open Buildings](https://sites.research.google/open-buildings/) | 機器學習衍生屋頂印跡<br />（&lt90% 精確度） | 5                | 約 7 億        |

## 理解 Parquet 檔案

<details>
        <summary>建築主題中的 GeoParquet 檔案架構</summary>
        <div>
<Tabs>
<TabItem value="building" label="building" default>

| 名稱              | 型別    | 描述                                                                 |
| ----------------- | ------- | -------------------------------------------------------------------- |
| id                | varchar | 可能與全球實體參考系統（GERS）相關的特徵 ID，僅在特徵代表 GERS 的實體時適用。 |
| geometry          | blob    | 建築物的幾何形狀定義為其足跡或屋頂印跡（如果從航空/衛星影像追蹤）。必須為 GeoJSON schema 定義的 Polygon。 |
| bbox              | struct  | 由兩個經度和兩個緯度定義的區域：緯度為 -90.0 到 90.0 之間的小數數字；經度為 -180.0 到 180.0 之間的小數數字。 |
| sources           | struct  | 給定特徵屬性的來源訊息數組。每個來源對象列出屬性在 JSON Pointer 記法中的位置以及該特定值來自的資料集。 |
| subtype           | varchar | 建築類型和用途的廣泛類別。                                               |
| names             | struct  | 與特徵相關的名稱。名稱數組中的第一個條目必須具有“本地”語言。                  |
| class             | varchar | 建築物建設目的的進一步劃分。                                               |
| level             | integer | 建築特徵的 Z-order，即堆疊順序。Z-order 為 0 表示地面層。                         |
| has_parts         | boolean | 標誌，指示建築物是否具有部分。                                              |
| height            | double  | 建築物或部分的高度（米）。高度為從最低點到最高點的距離。                        |
| num_floors        | integer | 建築物或部分的地上樓層數。                                                   |
| min_height        | double  | 建築物底部部分的高度（米）。如果建築物或部分建築物從地面層以上開始，則使用此值。         |
| min_floor         | integer | 建築物或建築部分的“起始”樓層。指示建築物或部分“漂浮”在地面層以上，通常是因為它是更大建築的一部分，其中某些部分達到地面層。 |
| facade_color      | varchar | 建築物或建築部分的外立面顏色（名稱或RGB色碼）以十六進制表示。                    |
| facade_material   | varchar | 建築外立面的外部表面材料。                                                   |
| roof_material     | varchar | 屋頂的最外層材料。                                                           |
| roof_shape        | varchar | 屋頂的形狀。                                                               |
| roof_direction    | double  | 屋頂脊線的方位。                                                             |
| roof_orientation  | varchar | 屋頂形狀相對於足跡形狀的方向。可以是“沿著”或“橫向”。                              |
| roof_color        | varchar | 建築物或建築部分的屋頂顏色（名稱或RGB色碼）以十六進制表示。                    |

</TabItem>
<TabItem value="building_part" label="building_part" default>
| 名稱              | 型別    | 描述                                                                 |
| ----------------- | ------- | -------------------------------------------------------------------- |
| id                | varchar | 可能與全球實體參考系統（GERS）相關的特徵 ID，僅在特徵代表 GERS 的實體時適用。 |
| geometry          | blob    | 建築物的幾何形狀定義為其足跡或屋頂印跡（如果從航空/衛星影像追蹤）。必須為 GeoJSON schema 定義的 Polygon。 |
| bbox              | struct  | 由兩個經度和兩個緯度定義的區域：緯度為 -90.0 到 90.0 之間的小數數字；經度為 -180.0 到 180.0 之間的小數數字。 |
| sources           | struct  | 給定特徵屬性的來源訊息數組。每個來源對象列出屬性在 JSON Pointer 記法中的位置以及該特定值來自的資料集。 |
| names             | struct  | 與特徵相關的名稱。名稱數組中的第一個條目必須具有“本地”語言。                  |
| class             | varchar | 建築物建設目的的進一步劃分。                                               |
| level             | integer | 建築特徵的 Z-order，即堆疊順序。Z-order 為 0 表示地面層。                         |
| height            | double  | 建築物或部分的高度（米）。高度為從最低點到最高點的距離。                        |
| num_floors        | integer | 建築物或部分的地上樓層數。                                                   |
| min_height        | double  | 建築物底部部分的高度（米）。如果建築物或部分建築物從地面層以上開始，則使用此值。         |
| min_floor         | integer | 建築物或建築部分的“起始”樓層。指示建築物或部分“漂浮”在地面層以上，通常是因為它是更大建築的一部分，其中某些部分達到地面層。 |
| facade_color      | varchar | 建築物或建築部分的外立面顏色（名稱或RGB色碼）以十六進制表示。                    |
| facade_material   | varchar | 建築外立面的外部表面材料。                                                   |
| roof_material     | varchar | 屋頂的最外層材料。                                                           |
| roof_shape        | varchar | 屋頂的形狀。                                                               |
| roof_direction    | double  | 屋頂脊線的方位。                                                             |
| roof_orientation  | varchar | 屋頂形狀相對於足跡形狀的方向。可以是“沿著”或“橫向”。                              |
| roof_color        | varchar | 建築物或建築部分的屋頂顏色（名稱或RGB色碼）以十六進制表示。                    |
| building_id       | varchar | 該部分所屬的建築物 ID。                                                     |

</TabItem>
</Tabs>
</div>
</details>

## 參考

- [Explore the schema reference for the building feature type](/schema/reference/buildings/building).
- [Explore the schema reference for the building part feature type](/schema/reference/buildings/building_part).
