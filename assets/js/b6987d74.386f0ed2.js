"use strict";(self.webpackChunkoverture_documentation=self.webpackChunkoverture_documentation||[]).push([[5888],{96373:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>g,frontMatter:()=>o,metadata:()=>a,toc:()=>h});let a=JSON.parse('{"id":"examples/kepler-gl","title":"Overture + Kepler.gl","description":"explore Overture data in Kepler.gl","source":"@site/docs/examples/kepler-gl.mdx","sourceDirName":"examples","slug":"/examples/kepler-gl","permalink":"/examples/kepler-gl","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1737573826000,"frontMatter":{"description":"explore Overture data in Kepler.gl","title":"Overture + Kepler.gl"},"sidebar":"docs","previous":{"title":"Overture + Fused","permalink":"/examples/fused"},"next":{"title":"Overture + Rapid","permalink":"/examples/rapid-id"}}');var l=r(74848),n=r(28453),i=r(74235),s=r(15947),d=r(48821);let o={description:"explore Overture data in Kepler.gl",title:"Overture + Kepler.gl"},p=void 0,u={},h=[{value:"Get only the data you need",id:"get-only-the-data-you-need",level:2},{value:"Explore the data in Kepler.gl",id:"explore-the-data-in-keplergl",level:2},{value:"Next steps",id:"next-steps",level:2}];function c(e){let t={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(t.p,{children:["In this example, we'll query the Overture buildings theme and download data for a specified bounding box. Then we'll load the data into ",(0,l.jsx)(t.a,{href:"https://kepler.gl/demo",children:"kepler.gl"}),", an open-source tool for working with large map datasets, and visualize the buildings data by data source: ",(0,l.jsx)(t.a,{href:"https://wiki.openstreetmap.org/wiki/Key:building",children:"OpenStreetMap"}),", ",(0,l.jsx)(t.a,{href:"https://github.com/microsoft/GlobalMLBuildingFootprints",children:"Microsoft ML Building Footprints"}),", ",(0,l.jsx)(t.a,{href:"https://communitymaps.arcgis.com/home",children:"Esri Community Maps"}),", and ",(0,l.jsx)(t.a,{href:"https://sites.research.google/open-buildings/",children:"Google Open Buildings"}),"."]}),"\n",(0,l.jsx)(t.p,{children:"Requirements: Install DuckDB or log into AWS to access Athena. You do not need an account on kepler.gl."}),"\n",(0,l.jsx)(t.h2,{id:"get-only-the-data-you-need",children:"Get only the data you need"}),"\n",(0,l.jsx)(t.p,{children:"Using DuckDB or Athena, query Overture data to get buildings for our area of interest, in this case a bounding box with Hyderabad, India."}),"\n",(0,l.jsxs)(i.default,{queryString:"engine",children:[(0,l.jsx)(s.default,{value:"duckdb",label:"DuckDB",children:(0,l.jsx)(d.A,{query:"LOAD spatial; -- noqa\n\nCOPY (\n    SELECT\n        id,\n        level,\n        height,\n        names.primary AS primary_name,\n        sources[1].dataset AS primary_source,\n        geometry -- DuckDB v.1.1.0 will autoload this as a `geometry` type\n    FROM read_parquet('s3://overturemaps-us-west-2/release/__OVERTURE_RELEASE/theme=buildings/type=*/*', hive_partitioning=1)\n    WHERE\n        bbox.xmin > 78.4194\n        AND bbox.xmax < 78.5129\n        AND bbox.ymin > 17.3427\n        AND bbox.ymax < 17.4192\n) TO 'buildings_hyderabad.geojson' WITH (FORMAT GDAL, DRIVER 'GeoJSON');\n"})}),(0,l.jsx)(s.default,{value:"athena",label:"Athena",children:(0,l.jsx)(d.A,{query:"SELECT\n    id,\n    theme,\n    class,\n    sources[1].dataset AS primary_source,\n    names.\"primary\" AS primary_name,\n    ST_GEOMFROMBINARY(geometry) AS geometry\nFROM overture.release.__ATHENA_OVERTURE_RELEASE\nWHERE theme='buildings'\n    AND type='building'\n    AND  bbox.xmin > 78.383144\n    AND bbox.xmax < 78.565011\n    AND bbox.ymin > 17.30199\n    AND bbox.ymax < 17.423426\n"})})]}),"\n",(0,l.jsx)(t.h2,{id:"explore-the-data-in-keplergl",children:"Explore the data in Kepler.gl"}),"\n",(0,l.jsxs)(t.p,{children:["Drag and drop the GeoJSON file into ",(0,l.jsx)(t.a,{href:"https://kepler.gl/demo",children:"kepler.gl"}),". Style the feature layer by choosing different colors based on the ",(0,l.jsx)(t.code,{children:"primary_source"})," field. Then you can explore the multiple data sources that Overture has conflated to create the buildings theme."]}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{alt:"kepler.gl example",src:r(42516).A+"",width:"1279",height:"772"})}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{alt:"kepler.gl gif",src:r(91457).A+"",width:"1270",height:"772"})}),"\n",(0,l.jsx)(t.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:["Make ",(0,l.jsx)(t.a,{href:"/examples/build-a-map",children:"your own interactive Overture map"})," with MapLibre and PMTiles!"]}),"\n"]})]})}function g(e={}){let{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},48821:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(74848),l=r(76634),n=r(90062);function i(e){let{siteConfig:{customFields:t}}=(0,n.A)();var r=e.query.replace("__OVERTURE_RELEASE",t.overtureRelease);r=(r=r.replace("__ATHENA_OVERTURE_RELEASE","v"+t.overtureRelease.replaceAll(".","_").replaceAll("-","_"))).replace("__PMTILES_OVERTURE_RELEASE",t.overtureRelease.split(".",1));var i=e.language||"sql";return(0,a.jsx)(l.default,{language:i,title:e.title,children:r})}},42516:(e,t,r)=>{r.d(t,{A:()=>a});let a=r.p+"assets/images/kepler-overture-hyderabad-075eda9a6f53b5239a586e34f2009db5.png"},91457:(e,t,r)=>{r.d(t,{A:()=>a});let a=r.p+"assets/images/kepler_overture_buildings_hyderabad-48f61bd38da94df6776371f57ab63d03.gif"}}]);