"use strict";(self.webpackChunkoverture_documentation=self.webpackChunkoverture_documentation||[]).push([[8686],{2594:(e,a,t)=>{t.d(a,{A:()=>n});var r=t(58069),s=t(40797),o=t(74848);function n(e){const{siteConfig:{customFields:a}}=(0,s.A)();var t=e.query.replaceAll("__OVERTURE_RELEASE",a.overtureRelease);t=(t=t.replaceAll("__ATHENA_OVERTURE_RELEASE","v"+a.overtureRelease.replaceAll(".","_").replaceAll("-","_"))).replaceAll("__PMTILES_OVERTURE_RELEASE",a.overtureRelease.split(".",1));var n=e.language||"sql";return(0,o.jsx)(r.default,{language:n,title:e.title,children:t})}},29490:(e,a,t)=>{t.d(a,{A:()=>r});const r=t.p+"assets/images/qgis-parquet-drag-drop-60a9e6d6120ae719e03f6949f0d8a914.gif"},93128:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>p,contentTitle:()=>u,default:()=>g,frontMatter:()=>c,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"examples/QGIS","title":"QGIS","description":"drag and drop GeoParquet files into QGIS","source":"@site/docs/examples/QGIS.mdx","sourceDirName":"examples","slug":"/examples/QGIS","permalink":"/examples/QGIS","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1750863508000,"frontMatter":{"description":"drag and drop GeoParquet files into QGIS","title":"QGIS"},"sidebar":"docs","previous":{"title":"PMTiles","permalink":"/examples/overture-tiles"},"next":{"title":"Rapid","permalink":"/examples/rapid-id"}}');var s=t(74848),o=t(28453),n=t(65537),l=t(79329),i=t(2594);const d="COPY (\n    SELECT *\n    FROM read_parquet(\"s3://overturemaps-us-west-2/release/__OVERTURE_RELEASE/theme=*/type=*/*\", union_by_name = True)\n    WHERE\n        bbox.xmin >= -105.30\n        AND bbox.ymin >= 39.98\n        AND bbox.xmax <= -105.24\n        AND bbox.ymax <= 40.07\n) TO 'boulder_co_overture.parquet';\n",c={description:"drag and drop GeoParquet files into QGIS",title:"QGIS"},u=void 0,p={},h=[{value:"Download Overture Data",id:"download-overture-data",level:2},{value:"Add the data to QGIS",id:"add-the-data-to-qgis",level:2}];function f(e){const a={a:"a",code:"code",em:"em",h2:"h2",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components},{Details:r}=a;return r||function(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.p,{children:["In this example, we'll show you how to get Overture Maps data into ",(0,s.jsx)(a.a,{href:"https://www.qgis.org/",children:"QGIS"}),", a powerful and popular open source geographic information system. QGIS can ingest almost every spatial data format, including ",(0,s.jsx)(a.a,{href:"https://parquet.apache.org/docs/",children:"Parquet"})," and ",(0,s.jsx)(a.a,{href:"https://geoparquet.org/",children:"GeoParquet"}),". Once you get your data into QGIS, the sky's the limit for data analysis, data conflation, visualization and beautiful mapmaking."]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsxs)("summary",{children:["Instructions: Install a version of QGIS with GDAL > 3.5 that can read ",(0,s.jsx)(a.code,{children:"(geo)parquet"})]}),(0,s.jsxs)(n.default,{children:[(0,s.jsxs)(l.default,{value:"mac",label:"MacOS",default:!0,children:[(0,s.jsxs)(a.p,{children:["You can find the latest installers for Mac here: ",(0,s.jsx)(a.a,{href:"https://github.com/opengisch/qgis-conda-builder/releases",children:"github.com/opengisch/qgis-conda-builder/releases"})]}),(0,s.jsxs)(a.p,{children:["Additionally, the ",(0,s.jsx)(a.a,{href:"https://anaconda.org/conda-forge/qgis",children:"conda packages"})," of QGIS have support for Parquet."]})]}),(0,s.jsx)(l.default,{value:"windows",label:"Windows",default:!0,children:(0,s.jsx)(a.p,{children:"Most distributions of QGIS for Windows have support for parquet."})}),(0,s.jsxs)(l.default,{value:"linux",label:"Linux",default:!0,children:[(0,s.jsxs)(a.p,{children:["The ",(0,s.jsx)(a.a,{href:"https://anaconda.org/conda-forge/qgis",children:"conda packages"})," of QGIS have support for Parquet."]}),(0,s.jsx)(a.p,{children:"Additionally, there is a Flatpak QGIS package that includes support for Parquet:"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"flatpak install --user https://dl.flathub.org/build-repo/94031/org.qgis.qgis.flatpakref\n"})})]})]})]}),"\n",(0,s.jsx)(a.h2,{id:"download-overture-data",children:"Download Overture Data"}),"\n",(0,s.jsxs)(n.default,{children:[(0,s.jsxs)(l.default,{value:"DuckDB",children:[(0,s.jsxs)(a.p,{children:["Using only the ",(0,s.jsx)(a.code,{children:"bbox"})," parameters, we can efficiently retrieve all Overture data without processing any geometries. With SELECT ",(0,s.jsx)(a.code,{children:"*"}),", we will simply download ",(0,s.jsx)(a.em,{children:"all"})," of the data in Overture across all themes and types. Note: if your query is interupted by a connection error, you might try running the following command first: ",(0,s.jsx)(a.code,{children:"SET http_keep_alive=false;"}),"."]}),(0,s.jsx)(i.A,{query:d}),(0,s.jsxs)(a.p,{children:["Note that this query gathers data from all Overture themes with ",(0,s.jsx)(a.code,{children:"theme=*/type=*/*"}),". The resulting file has ",(0,s.jsx)(a.em,{children:"all"})," of the columns and multiple geometry types."]})]}),(0,s.jsxs)(l.default,{value:"Python",children:[(0,s.jsxs)(a.p,{children:["The new ",(0,s.jsx)(a.a,{href:"https://github.com/OvertureMaps/overturemaps-py",children:(0,s.jsx)(a.code,{children:"overturemaps-py"})})," Python utility can download Overture data as both ",(0,s.jsx)(a.code,{children:"geojson"})," and ",(0,s.jsx)(a.code,{children:"geoparquet"}),". This example downloads buildlings around Boston."]}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"$ pip install overturemaps\n\n$ overturemaps download --bbox=-71.068,42.353,-71.058,42.363 \\\n    -f geoparquet --type=building --output=boston.geoparquet\n"})}),(0,s.jsxs)(a.p,{children:["Note: run ",(0,s.jsx)(a.code,{children:"overturemaps download --help"})," for a full list of types and output formats."]})]})]}),"\n",(0,s.jsx)(a.h2,{id:"add-the-data-to-qgis",children:"Add the data to QGIS"}),"\n",(0,s.jsx)(a.p,{children:"All of the data files we created in the previous step are vector files that can be added as layers in QGIS. The easiest method is to drag-and-drop the file(s) directly into the map canvas."}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"Drag-n-drop parquet files in QGIS",src:t(29490).A+"",width:"1208",height:"846"})})]})}function g(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(f,{...e})}):f(e)}}}]);