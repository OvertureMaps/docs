"use strict";(self.webpackChunkoverture_documentation=self.webpackChunkoverture_documentation||[]).push([[541],{18420:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"schema/concepts/by-theme/transportation/index","title":"Transportation schema concepts","description":"For step-by-step examples of accessing and working with our transportation data, please see our Transportation Data Guide.","source":"@site/docs/schema/concepts/by-theme/transportation/index.mdx","sourceDirName":"schema/concepts/by-theme/transportation","slug":"/schema/concepts/by-theme/transportation/","permalink":"/schema/concepts/by-theme/transportation/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Transportation schema concepts"},"sidebar":"schema","previous":{"title":"Places schema concepts","permalink":"/schema/concepts/by-theme/places/"},"next":{"title":"Roads","permalink":"/schema/concepts/by-theme/transportation/roads"}}');var s=n(74848),r=n(28453);const a={title:"Transportation schema concepts"},i=void 0,c={},d=[{value:"Overview",id:"overview",level:2},{value:"Feature types and subtypes",id:"feature-types-and-subtypes",level:2},{value:"Key concepts",id:"key-concepts",level:2},{value:"Connectors",id:"connectors",level:3},{value:"Destinations",id:"destinations",level:3},{value:"Linear referencing",id:"linear-referencing",level:3},{value:"Scoped and rule-based properties",id:"scoped-and-rule-based-properties",level:3},{value:"Shape and connectivity",id:"shape-and-connectivity",level:3},{value:"Travel modes",id:"travel-modes",level:3},{value:"Schema reference",id:"schema-reference",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["For step-by-step examples of accessing and working with our transportation data, please see our ",(0,s.jsx)(t.a,{href:"https://docs.overturemaps.org/guides/transportation/",children:"Transportation Data Guide"}),"."]})}),"\n",(0,s.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(t.p,{children:"The Overture transportation theme describes the infrastructure and conventions of how people and objects travel around the world. The schema defines a hierarchy of structures that attempt to: 1. make it easier to manage this complex dataset and 2. reflect the operational reality of transportation networks."}),"\n",(0,s.jsx)(t.p,{children:"The Overture transportation schema aims to do the following:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"capture the hierarchy of features it proposes"}),"\n",(0,s.jsx)(t.li,{children:"envision inclusion of other datasets such as places, buildings, and divisions"}),"\n",(0,s.jsx)(t.li,{children:"use GeoJSON features as a base"}),"\n",(0,s.jsx)(t.li,{children:"model every feature as a spatial object with a well-defined geometry"}),"\n",(0,s.jsx)(t.li,{children:"model topology"}),"\n",(0,s.jsx)(t.li,{children:"model shared properties that describe the behavior of other properties: e.g. a value constrained by its location along a segment, a value contrained by both its location along a segment and certain hours, transportation modes or direction"}),"\n",(0,s.jsx)(t.li,{children:"model relationships as properties belonging to source segment"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"feature-types-and-subtypes",children:"Feature types and subtypes"}),"\n",(0,s.jsx)(t.p,{children:"The Overture transportation schema defines two feature types:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"segment"})," type has a LineString geometry that represents the center-line of a path that a person or object may travel. Segment properties describe both the physical proprerties (e.g. road surface and width) and non-physical properties (e.g. access restriction rules) of that path."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"connector"})," type has a Point geometry that defines the topology of the transportation network by representing the physical connection between two or more segments. Connectors do not have properties beyond geometry and the common properties required for all Overture features."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"segment"})," feature type is further divided into three subtypes: ",(0,s.jsx)(t.code,{children:"road"}),", ",(0,s.jsx)(t.code,{children:"rail"}),", and ",(0,s.jsx)(t.code,{children:"water"}),". Of these, the ",(0,s.jsx)(t.code,{children:"road"})," subtype is the most developed. ",(0,s.jsx)(t.a,{href:"roads",children:"Here"})," we describe in detail how we model roads in the Overture schema."]}),"\n",(0,s.jsx)(t.h2,{id:"key-concepts",children:"Key concepts"}),"\n",(0,s.jsx)(t.h3,{id:"connectors",children:"Connectors"}),"\n",(0,s.jsxs)(t.p,{children:["To better support routing use cases, we added to the ",(0,s.jsx)(t.code,{children:"segment"})," feature type a property called ",(0,s.jsx)(t.code,{children:"connectors"}),": an array of IDs with pre-computed linear reference values that explicitly link segments and connector features via coordinates. The ",(0,s.jsx)(t.code,{children:"connectors"})," property contains a list of connector features to which a segment feature is physically linked ",(0,s.jsx)(t.strong,{children:"and"})," the relative location of those connector features along the segment. Each connector is a possible routing decision point, meaning it defines a place along the segment in which there is possibility to transition to other segments that share the same connector."]}),"\n",(0,s.jsx)(t.p,{children:"Here's an example of how the connectors property is modeled in the schema:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"id: overture:transportation:segment:123\ntype: Feature\ngeometry:\n  type: LineString\n  coordinates: [[0, 0], [0.03, 0], [0.10, 0]]\nproperties:\n  theme: transportation\n  type: segment\n  version: 1\n  subtype: road\n  class: secondary\n  connectors:\n    - connector_id: fooConnector\n      at: 0\n    - connector_id: barConnector\n      at: 0.3\n    - connector_id: bazConnector\n      at: 1\n  road_surface:\n    - value: paved\n"})}),"\n",(0,s.jsx)(t.h3,{id:"destinations",children:"Destinations"}),"\n",(0,s.jsxs)(t.p,{children:["The destination property in the ",(0,s.jsx)(t.code,{children:"segment"})," feature type supports routing use cases. It describes the transitions from one segment to another on the way to a specified location. In turn-by-turn routing applications, this is what is known as \u201cfollow signs for\u201d \u2014 the human-readable directions and signposts along a road, highway, or interstate that get us from point A to point Z, by way of any number of paths in between. We designed the ",(0,s.jsx)(t.code,{children:"destinations"})," property with a flexible schema that will allow us to capture and model navigation data from many different sources."]}),"\n",(0,s.jsx)(t.h3,{id:"linear-referencing",children:"Linear referencing"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"segment"})," feature type uses linear referencing to describe the properties of specific sections of a road along a road segment. To avoid splitting road segments at any and every property change, we added linear referencing, which defines how some properties apply to portions of a segment can change along a segment that is generally understood to be the same 'road'. Segment splits are then reserved for more significant intersections so that we don't have to version the entire road any time any piece of the road changes. Other than some expected challenges learning how Linear Referencing worked, we noticed that the main difficulty really arises is when people want to convert the transportation data into a routing graph. Many routing engines want the data to be split at every 'decision point'  where each decision is what amounts to a connector between segments the routing engine would consider routing on (e.g. vehicle routing would eliminate sidewalks). However that decision of what segments would be considered for routing someone varies significantly by application, even within similar 'types' of routing, so we could not identify a common subset of splitting rules that would meet all or even most of the various use cases of the members, much less the community at large."]}),"\n",(0,s.jsx)(t.h3,{id:"scoped-and-rule-based-properties",children:(0,s.jsx)(t.a,{href:"/schema/concepts/scoping-rules",children:"Scoped and rule-based properties"})}),"\n",(0,s.jsx)(t.p,{children:"The schema allows the values of properties to be specified at the sub-feature level. For example:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["a speed limit on a road segment might be scoped to apply only to part of the road geometry using ",(0,s.jsx)(t.em,{children:"geometric scoping"})]}),"\n",(0,s.jsxs)(t.li,{children:["the directionality of a segment, controlling the direction or directions in which traffic can flow along the segment geometry, may be specified to change at different times of day using ",(0,s.jsx)(t.em,{children:"temporal scoping"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["the categories of people and vehicles who are allowed to travel on a segment can be controlled using ",(0,s.jsx)(t.em,{children:"subjective scoping"})]}),"\n",(0,s.jsxs)(t.li,{children:["a real world property that varies under changing environmental conditions can be modeled using ",(0,s.jsx)(t.em,{children:"environmental scoping"})]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"shape-and-connectivity",children:(0,s.jsx)(t.a,{href:"/schema/concepts/by-theme/transportation/shape-connectivity",children:"Shape and connectivity"})}),"\n",(0,s.jsxs)(t.p,{children:["The schema captures the shape and connectivity of the transportation network using ",(0,s.jsx)(t.code,{children:"segment"})," and ",(0,s.jsx)(t.code,{children:"connector"})," features. The schema design allows the segmentation process to promote shape stability and ultimately ",(0,s.jsx)(t.a,{href:"https://docs.overturemaps.org/gers/",children:"GERS ID"})," stability."]}),"\n",(0,s.jsx)(t.h3,{id:"travel-modes",children:(0,s.jsx)(t.a,{href:"/schema/concepts/by-theme/transportation/travel-modes",children:"Travel modes"})}),"\n",(0,s.jsx)(t.p,{children:"The transportation theme supports a fuzzy concept called travel mode which can be used as a way of controlling scoped and rule-based properties."}),"\n",(0,s.jsx)(t.h2,{id:"schema-reference",children:"Schema reference"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/schema/reference/transportation/connector",children:"Connector feature type"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/schema/reference/transportation/segment",children:"Segment feature type"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);