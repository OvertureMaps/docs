"use strict";(self.webpackChunkoverture_documentation=self.webpackChunkoverture_documentation||[]).push([[8686],{77170:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>f,frontMatter:()=>d,metadata:()=>r,toc:()=>p});let r=JSON.parse('{"id":"examples/QGIS","title":"Overture + QGIS","description":"drag and drop GeoParquet files into QGIS","source":"@site/docs/examples/QGIS.mdx","sourceDirName":"examples","slug":"/examples/QGIS","permalink":"/examples/QGIS","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1742235356000,"frontMatter":{"description":"drag and drop GeoParquet files into QGIS","title":"Overture + QGIS"},"sidebar":"docs","previous":{"title":"Overture + Maplibre","permalink":"/examples/build-a-map"},"next":{"title":"Data Guides","permalink":"/guides/"}}');var s=a(74848),l=a(28453),o=a(74235),n=a(15947),i=a(48821);let d={description:"drag and drop GeoParquet files into QGIS",title:"Overture + QGIS"},u=void 0,c={},p=[{value:"Download Overture Data",id:"download-overture-data",level:2},{value:"Add the data to QGIS",id:"add-the-data-to-qgis",level:2}];function h(e){let t={a:"a",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",...(0,l.R)(),...e.components},{Details:a}=t;return a||function(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["In this example, we'll show you how to get Overture Maps data into ",(0,s.jsx)(t.a,{href:"https://www.qgis.org/",children:"QGIS"}),", a powerful and popular open source geographic information system. QGIS can ingest almost every spatial data format, including ",(0,s.jsx)(t.a,{href:"https://parquet.apache.org/docs/",children:"Parquet"})," and ",(0,s.jsx)(t.a,{href:"https://geoparquet.org/",children:"GeoParquet"}),". Once you get your data into QGIS, the sky's the limit for data analysis, data conflation, visualization and beautiful mapmaking."]}),"\n",(0,s.jsxs)(a,{children:[(0,s.jsxs)("summary",{children:["Instructions: Install a version of QGIS with GDAL > 3.5 that can read ",(0,s.jsx)(t.code,{children:"(geo)parquet"})]}),(0,s.jsxs)(o.default,{children:[(0,s.jsxs)(n.default,{value:"mac",label:"MacOS",default:!0,children:[(0,s.jsxs)(t.p,{children:["You can find the latest installers for Mac here: ",(0,s.jsx)(t.a,{href:"https://github.com/opengisch/qgis-conda-builder/releases",children:"github.com/opengisch/qgis-conda-builder/releases"})]}),(0,s.jsxs)(t.p,{children:["Additionally, the ",(0,s.jsx)(t.a,{href:"https://anaconda.org/conda-forge/qgis",children:"conda packages"})," of QGIS have support for Parquet."]})]}),(0,s.jsx)(n.default,{value:"windows",label:"Windows",default:!0,children:(0,s.jsx)(t.p,{children:"Most distributions of QGIS for Windows have support for parquet."})}),(0,s.jsxs)(n.default,{value:"linux",label:"Linux",default:!0,children:[(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"https://anaconda.org/conda-forge/qgis",children:"conda packages"})," of QGIS have support for Parquet."]}),(0,s.jsx)(t.p,{children:"Additionally, there is a Flatpak QGIS package that includes support for Parquet:"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"flatpak install --user https://dl.flathub.org/build-repo/94031/org.qgis.qgis.flatpakref\n"})})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"download-overture-data",children:"Download Overture Data"}),"\n",(0,s.jsxs)(o.default,{children:[(0,s.jsxs)(n.default,{value:"DuckDB",children:[(0,s.jsxs)(t.p,{children:["Using only the ",(0,s.jsx)(t.code,{children:"bbox"})," parameters, we can efficiently retrieve all Overture data without processing any geometries. With SELECT ",(0,s.jsx)(t.code,{children:"*"}),", we will simply download ",(0,s.jsx)(t.em,{children:"all"})," of the data in Overture across all themes and types. Note: if your query is interupted by a connection error, you might try running the following command first: ",(0,s.jsx)(t.code,{children:"SET http_keep_alive=false;"}),"."]}),(0,s.jsx)(i.A,{query:"COPY (\n    SELECT *\n    FROM read_parquet(\"s3://overturemaps-us-west-2/release/__OVERTURE_RELEASE/theme=*/type=*/*\", union_by_name = True)\n    WHERE\n        bbox.xmin >= -105.30\n        AND bbox.ymin >= 39.98\n        AND bbox.xmax <= -105.24\n        AND bbox.ymax <= 40.07\n) TO 'boulder_co_overture.parquet';\n"}),(0,s.jsxs)(t.p,{children:["Note that this query gathers data from all Overture themes with ",(0,s.jsx)(t.code,{children:"theme=*/type=*/*"}),". The resulting file has ",(0,s.jsx)(t.em,{children:"all"})," of the columns and multiple geometry types."]})]}),(0,s.jsxs)(n.default,{value:"Python",children:[(0,s.jsxs)(t.p,{children:["The new ",(0,s.jsx)(t.a,{href:"https://github.com/OvertureMaps/overturemaps-py",children:(0,s.jsx)(t.code,{children:"overturemaps-py"})})," Python utility can download Overture data as both ",(0,s.jsx)(t.code,{children:"geojson"})," and ",(0,s.jsx)(t.code,{children:"geoparquet"}),". This example downloads buildlings around Boston."]}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ pip install overturemaps\n\n$ overturemaps download --bbox=-71.068,42.353,-71.058,42.363 \\\n    -f geoparquet --type=building --output=boston.geoparquet\n"})}),(0,s.jsxs)(t.p,{children:["Note: run ",(0,s.jsx)(t.code,{children:"overturemaps download --help"})," for a full list of types and output formats."]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"add-the-data-to-qgis",children:"Add the data to QGIS"}),"\n",(0,s.jsx)(t.p,{children:"All of the data files we created in the previous step are vector files that can be added as layers in QGIS. The easiest method is to drag-and-drop the file(s) directly into the map canvas."}),"\n",(0,s.jsx)("img",{src:"/img/examples/qgis-parquet-drag-drop.gif",alt:"Drag-n-drop parquet files in QGIS",width:"65%"})]})}function f(e={}){let{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},48821:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(74848),s=a(76634),l=a(90062);function o(e){let{siteConfig:{customFields:t}}=(0,l.A)();var a=e.query.replaceAll("__OVERTURE_RELEASE",t.overtureRelease);a=(a=a.replaceAll("__ATHENA_OVERTURE_RELEASE","v"+t.overtureRelease.replaceAll(".","_").replaceAll("-","_"))).replaceAll("__PMTILES_OVERTURE_RELEASE",t.overtureRelease.split(".",1));var o=e.language||"sql";return(0,r.jsx)(s.default,{language:o,title:e.title,children:a})}}}]);