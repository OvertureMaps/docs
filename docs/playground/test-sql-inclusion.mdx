---
slug: /osmlogic
title: OpenStreetMap to Overture Base Theme
---


import QueryBuilder from '@site/src/components/queryBuilder';

import OSMtoOvertureInfrastructure from '!!raw-loader!@site/src/queries/partials/osm_conversion_logic/infrastructure.sql';

Features in the `infrastructure` type within Overture's `base` theme come form OpenStreetMap. The `subtype` and `class` of an Overture feature is determined by the tags that are present in OpenStreetMap.

Below is the logic that is currently used to convert from OSM tags into Overture schema.


<details>
    <summary>How to interpret the query</summary>

    Each `WHEN` line in the `CASE` statement is a condition that defines both the subtype and the class of a feature. For example:
    ```sql
    WHEN element_at(tags,'highway') = 'bus_stop' THEN ROW('transit', 'bus_stop')
    ```

    Here, <code class='language-sql'>element_at(tags, 'highway')</code> is equivalent to the value of the `highway` tag in OSM. When the OSM tag `highway=bus_stop` is present, then the statement returns `ROW(subtype, class)`, in this case, `subtype='transit'`, class='bus_stop'`

</details>






<QueryBuilder query={OSMtoOvertureInfrastructure}></QueryBuilder>
