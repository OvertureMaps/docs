---
title: DuckDB
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import QueryBuilder from '@site/src/components/queryBuilder';
import Peaks from '!!raw-loader!@site/src/queries/duckdb/mountain_peaks.sql';
import DetroitBuildings from '!!raw-loader!@site/src/queries/duckdb/buildings_detroit.sql';
import CountyGeometries from '!!raw-loader!@site/src/queries/duckdb/county_level_geometries.sql';

[DuckDB](https://duckdb.org/) is an analytics tool that allows you to query remote files and download only the data you want.

## Installation

[Install DuckDB locally](https://duckdb.org/docs/installation/). You'll need extensions to work with spatial data in the cloud. run the following commands in the DuckDB command line:

1. `INSTALL SPATIAL;` to install the [duckdb_spatial](https://github.com/duckdblabs/duckdb_spatial) extension.
2. `INSTALL httpfs;` or `INSTALL azure;` to read from either Amazon S3 ([httpfs](https://duckdb.org/docs/guides/import/s3_import.html)) or Microsoft Azure Blob Storage ([azure](https://duckdb.org/docs/extensions/azure)).

## Downloading Overture Data

<Tabs queryString="query">
<TabItem value="Buildings" label="Buildings">

This query accesses Overture buildings data hosted on Azure to download named buildings around Detroit, Michigan.

<QueryBuilder query={DetroitBuildings}></QueryBuilder>
</TabItem>

<TabItem value="Mountains" label="Mountains">

This query downloads mountain peaks in Oregon, USA from the base theme, converts the elevation attribute to feet, and saves the result as a GeoJSON file.

<QueryBuilder query={Peaks}></QueryBuilder>

</TabItem>

<TabItem value="Counties" label="Counties">

This query grabs county-level geometries for Pennsylvania from the divisions theme and outputs a GeoPackage.

<QueryBuilder query={CountyGeometries}></QueryBuilder>

</TabItem>
</Tabs>

:::tip
To write the data to a shapefile, replace the last line of any of the above queries:

```sql
) TO 'overture_data.shp' WITH (FORMAT GDAL, DRIVER 'ESRI Shapefile');
```

The DuckDB Spatial extension supports more than [50 geospatial file formats](https://duckdb.org/docs/extensions/spatial.html#st_read--read-spatial-data-from-files).
:::

## Next steps

Visualize the data in QGIS or kepler.
Make a map.
Consult one of our guides to learn more about the data and for more advanced queries.
